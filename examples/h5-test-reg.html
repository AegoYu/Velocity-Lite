<html>

<head>
    <meta charset="utf-8">
    <title>Events Example</title>
    <script type="text/javascript">
        var token = 'set|if|elseif|else|foreach|break|end';
        //var reg = new RegExp('([^#]+?)?#(' + token + ')(?:\\(([^<#]*)\\))?([^#]*)', 'g')
        var reg = new RegExp('(?:#(' + token + ')|(.+?)(?=#['+token+'])#(' + token + '))(?:\\(([^<#]*)\\))?([^#]*)', 'g')
        var test_tpl2 = "<div #>#if($bool)111#end#if($bool)2222#end</div>"
        var result= [];
        console.log(test_tpl2);
        while(result =reg.exec(test_tpl2)){
            console.log(result.toString());
        }
    </script>
</head>

<body>
</body>

</html>
