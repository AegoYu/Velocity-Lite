!function(e){function r(n){if(t[n])return t[n].exports;var s=t[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){(function(r){e.exports=r.Velocity=t(1)}).call(r,function(){return this}())},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){this.template=e}function l(e){var r=u(this.template);if(s.plugins!=={})for(var t in s.plugins)e[t]=s.plugins[t];return r(e)}function u(e){var r,t=v["default"].getKey(e),n=v["default"].getRam(t);if(null===n){var s=v["default"].getSession(t);if(i.configs.sessionCache&&null!==s)r=new Function(s);else{var l=(0,p["default"])((0,o["default"])(e),e);r=new Function(l),i.configs.sessionCache&&v["default"].setSession(t,l)}v["default"].setRam(t,r)}else r=n;return r}var i=t(2),a=t(3),o=n(a),f=t(5),p=n(f),c=t(6),v=n(c);e.exports=s,s.prototype={render:l},s.plugins={},s.register=function(e,r){if(e.constructor==String){var t=e;s.plugins[t]=r}else for(var t in e)s.plugins[t]=e[t]},s.config=i.setConfig},function(e,r){"use strict";function t(e){for(var r in e)n[r]=e[r]}Object.defineProperty(r,"__esModule",{value:!0}),r.setConfig=t;var n=r.configs={undefinedOutput:!1,sessionCache:!1,exactErrorLine:!1}},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){y=e.split(/[^\w\u4E00-\u9FA5]/g),d=e.replace(/[\w|\u4E00-\u9FA5]/g,"").split(""),h=d.length;var r=[];r.push({type:M,val:y.shift()});for(var t=0;t<h;t++){var n=t<h-1;"$"==d[t]?(g=f(t),r.push(g.vModel),g.ins&&r.push({type:M,val:y[g.lps]}),t=g.lps):"#"==d[t]?n&&"#"==d[t+1]&&""==y[t]?t=u(t+1):n&&"*"==d[t+1]&&""==y[t]?t=i(t+1):"#[["==d.slice(t,t+3).join("")&&""==y.slice(t,t+2).join("")?(g=l(t+2),r.push(g.hModel),t=g.lps):(g=a(t),r.push(g.dModel),g.ins&&r.push({type:M,val:y[g.lps]}),t=g.lps):"\\"==d[t]&&n&&""==y[t]?(r.push({type:M,val:d[t+1]+y[t+1]}),t++):"\n"==d[t]?r.push({type:M,val:y[t]}):r.push({type:M,val:d[t]+y[t]})}return{parseStack:r,symbols:d,words:y}}function l(e){for(var r={type:"html",val:y[e]},t=e+1;t<h;t++){if("]"==d[t]&&"]]#"==d.slice(t,t+3).join("")&&""==y.slice(t,t+2).join(""))return r.val+=y[t+2],{hModel:r,lps:t+2};"\n"==d[t]?r.val+=y[t]:r.val+=d[t]+y[t]}p("防止转义没有结束标识","EOF")}function u(e){for(var r=e+1;r<h;r++)if("\n"==d[r])return r;return r}function i(e){for(var r=e+1;r<h;r++)if("*"==d[r]&&r<h-1&&"#"==d[r+1])return r+1;p("多行注释没有结束标识","EOF")}function a(e){for(var r={type:m,val:y[e],sublayer:[],begin:e},t=!1,n=0,s=e+1;s<h;s++)if(t||"("!=d[s])if(t&&"("==d[s])r.sublayer.push({type:$,val:d[s]+y[s]}),n++;else if(t&&")"==d[s]){if(0==n)return{dModel:r,lps:s,ins:!0};r.sublayer.push({type:$,val:d[s]+y[s]}),n--}else if(t&&"$"==d[s])g=f(s),r.sublayer.push(g.vModel),s=g.lps;else if(!t||'"'!=d[s]&&"'"!=d[s])if(t&&"\n"==d[s])r.sublayer.push({type:$,val:y[s]});else{if(!t){if(x.indexOf(y[e])>=0){if(" "==d[s])continue;p("指令 "+r.val+" 缺少 (",s)}return b.indexOf(r.val)==-1&&p("指令 "+r.val+" 不存在",s),r.sublayer=!1,{dModel:r,lps:s-1,ins:!1}}"#"==d[s]&&p("指令 "+r.val+" 未结束并遭遇另一个指令符号 #",r.begin),r.sublayer.push({type:$,val:d[s]+y[s]})}else g=o(s),r.sublayer.push(g.sModel),s=g.lps;else r.sublayer.push({type:$,val:y[s]}),t=!0;return t?void p("指令 "+r.val+" 没有结束",r.begin):(r.sublayer=!1,{dModel:r,lps:s-1})}function o(e){for(var r={type:O,sublayer:[{type:S,val:y[e]}],begin:e},t=d[e],n=e+1;n<h;n++)if("\\"==d[n])r.sublayer.push({type:S,val:d[n+1]+y[n+1]}),n++;else{if(d[n]==t)return{sModel:r,lps:n};"$"==d[n]?(g=f(n),r.sublayer.push(g.vModel),n=g.lps):"\n"==d[n]?p("字符串 '"+r.sublayer[0].val+"' 没有结束",r.begin):r.sublayer.push({type:S,val:d[n]+y[n]})}p("字符串 '"+r.sublayer[0].val+"' 没有结束",r.begin)}function f(e){for(var r={type:w,sublayer:[{type:$,val:y[e]}],begin:e},t=!1,n=!1,s=0,l=e+1;l<h;l++)if("$"==d[l])g=f(l),r.sublayer.push(g.vModel),l=g.lps;else if("!"==d[l])t?r.sublayer.push({type:$,val:d[l]+y[l]}):(r.type=_,r.sublayer.push({type:$,val:y[l]}));else if(!t||'"'!=d[l]&&"'"!=d[l])if("."==d[l])r.sublayer.push({type:$,val:"."+y[l]});else if(t||"("!=d[l]&&"{"!=d[l]&&"["!=d[l])if(d[l]===t)s++,r.sublayer.push({type:$,val:d[l]+y[l]});else if(d[l]===n){if(0==s){if("}"==n)return{vModel:r,lps:l,ins:!1};if(l<h-1&&"."==d[l+1]){r.sublayer.push({type:$,val:d[l]}),t=!1,n=!1,s=0;continue}return r.sublayer.push({type:$,val:d[l]}),{vModel:r,lps:l,ins:!0}}s--,r.sublayer.push({type:$,val:d[l]+y[l]})}else if(t&&"\n"==d[l])r.sublayer.push({type:$,val:y[l]});else{if(!t)return{vModel:r,lps:l-1};r.sublayer.push({type:$,val:d[l]+y[l]})}else t=d[l],"("==t?n=")":"["==t?n="]":"{"==t&&(n="}"),r.sublayer.push({type:$,val:("{"!==t?t:"")+y[l]});else g=o(l),r.sublayer.push(g.sModel),l=g.lps;return t?void p("变量 "+r.sublayer[0].val+" 没有结束",r.begin):{vModel:r,lps:l}}function p(e,r){throw v["default"].syntax(e,v["default"].getLine(d,y,r)),": The program is stopped due to syntax error"}Object.defineProperty(r,"__esModule",{value:!0});var c=t(4),v=n(c);r["default"]=s;var y,d,h,g,b=["if","else","elseif","end","set","foreach","break"],x=["if","elseif","set","foreach"],M=1,$=2,m=3,w=4,_=5,O=6,S=7},function(e,r,t){"use strict";function n(e,r){console.warn("[Line "+r+"][Syntax Error] "+e)}function s(e,r,t){var n,s=e.slice(0,t).join(""),u=s.split("\n");return n=u.length,""==u[0].trim()&&1!==u.length&&n--,l.configs.exactErrorLine&&window.$?($.ajax({url:window.location.href,async:!1,success:function(t){for(var s="",l=0;l<e.length;l++)s+=e[l]+r[l];t=t.replace(/[^\S\n]/g,""),s=s.replace(/[^\S\n]/g,"");var u=t.substr(0,t.indexOf(s));n+=u.split("\n").length}}),n+" (In Html File)"):n}Object.defineProperty(r,"__esModule",{value:!0});var l=t(2);r["default"]={syntax:n,getLine:s}},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){var r=e.parseStack;g=e.symbols,b=e.words;var t="if(!Array.prototype.size){Array.prototype.size=function(){return this.length;};}var $data=arguments[0],$out='';",n=l(r,0);if(T.length>0)throw h["default"].syntax("有 if 或 foreach 但缺少配对 end","EOF"),": The program is stopped due to syntax error";for(var s=0;s<I.length;s++)t+="var "+I[s]+"=$data."+I[s]+"||undefined;";return t+=n,t+="return $out;"}function l(e,r){for(var t,n="",s="",i=0;i<e.length;i++)if(!e[i].val||""!=e[i].val)if(e[i].type==E){if(s+=e[i].val,i==e.length-1||i<e.length-1&&e[i+1].type!=E){var a=u(s);if(""==a)continue;n+="$out+='"+a+"';",s=""}}else if(e[i].type==C||e[i].type==L){0==r&&(n+="$out+=");var o=e[i].type==L;if(t=l(e[i].sublayer,r+1),""==t||m.test(t[0])){n+=o?"'$!"+t+"'":"'$"+t+"'",0==r&&(n+=";");continue}var f=t.split($)[0];if(I.indexOf(f)==-1&&I.push(f),o)n+="(function(){try{return(("+t+"||"+t+"==0)?"+t+":'')}catch(e){return '';}})()";else if(!y.configs.undefinedOutput||0!=i&&e[i-1].type!=E)n+=t;else{var p="$"+u(t);n+="(function(){try{return(("+t+"||"+t+"==0)?"+t+":'"+p+"')}catch(e){return '"+p+"';}})()"}0==r&&(n+=";")}else if(e[i].type==k){if(t=R[e[i].val](e[i].sublayer?l(e[i].sublayer):null),t.error)throw h["default"].syntax(t.error,h["default"].getLine(g,b,e[i].begin)),": The program is stopped due to syntax error";n+=t}else e[i].type==F?n+=e[i].val:e[i].type==P?(0==i&&(n+="'"),i>0&&e[i-1].type!=P&&(n+="+'"),n+=e[i].val,i<e.length-1&&e[i+1].type!==P&&(n+="'+"),i==e.length-1&&(n+="'")):e[i].type==A&&(n+=l(e[i].sublayer,r+1));return n}function u(e){return e.replace(M,"\\\\").replace(x,"\\'")}function i(e){var r=e.replace(w,"");return r.match(S)?{error:"不应在 if 表达式里进行赋值操作"}:(T.push("if"),"if("+e+"){")}function a(e){if("if"!=T.slice(-1))return{error:"有 elseif 但没有 if"};var r=e.replace(w,"");return r.match(S)?{error:"不应在 elseif 表达式里进行赋值操作"}:"}else if("+e+"){"}function o(){return"if"!=T.slice(-1)?{error:"有 else 但没有 if"}:"}else{"}function f(){if(0==T.length)return{error:"存在 end 但缺少配对 if 或 foreach"};var e=T.pop();return"if"==e?"}":"foreach"==e?"}})();":void 0}function p(e){var r=e.replace(w,"").replace(_,"");return r.match(S)||r.match(j)?e+";":{error:"set 表达式语法不正确"}}function c(){return"break;"}function v(e){T.push("foreach");var r=e.split(O);if(!r||2!==r.length)return{error:"foreach 存在未识别的 token"};var t=r[1],n=r[0];return"(function(){"+("var foreach={},"+n+";")+("for(var $index=0,$length="+t+".length;$index<$length;$index++){")+"foreach.count=$index+1;foreach.index=$index;foreach.hasNext=($index<$length-1?true:false);"+(n+"="+t+"[$index];")}Object.defineProperty(r,"__esModule",{value:!0});var y=t(2),d=t(4),h=n(d);r["default"]=s;var g,b,x=/\'/g,M=/\\/g,$=/[^\w]/,m=/[0-9]/,w=/'(.*)'/g,_=/\((.*)\)/g,O=/\s+in\s+/g,S=/(.*)[\w\s\]]=[^=]*[\w\s\[\{](.*)/,j=/(.*)[\w\s\]]=$/,E=1,F=2,k=3,C=4,L=5,A=6,P=7,R={"if":i,end:f,"else":o,elseif:a,foreach:v,"break":c,set:p},I=[],T=[]},function(e,r){"use strict";function t(e){return i[e]?i[e]:null}function n(e,r){i[e]=r}function s(e){return sessionStorage?sessionStorage.getItem(e):null}function l(e,r){sessionStorage&&sessionStorage.setItem(e,r)}function u(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".split(""),t=5381,n=e.length-1;n>-1;n--)t+=(t<<5)+e.charCodeAt(n);var s=2147483647&t,l="";do l+=r[63&s];while(s>>=6);return l}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={getRam:t,setRam:n,getSession:s,setSession:l,getKey:u};var i={}}]);