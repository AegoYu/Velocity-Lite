!function(e){function r(n){if(t[n])return t[n].exports;var s=t[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){(function(r){e.exports=r.Velocity=t(1)}).call(r,function(){return this}())},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){this.template=e}function l(e){var r=u(this.template);if(s.plugins!=={})for(var t in s.plugins)e[t]=s.plugins[t];return r(e)}function i(e){return(0,c["default"])((0,f["default"])(e),e)}function u(e){var r,t=y["default"].getKey(e),n=y["default"].getRam(t);if(null===n){var s=y["default"].getSession(t);if(a.configs.sessionCache&&null!==s)r=new Function(s);else{var l=i(e);r=new Function(l),a.configs.sessionCache&&y["default"].setSession(t,l)}y["default"].setRam(t,r)}else r=n;return r}var a=t(2),o=t(3),f=n(o),p=t(5),c=n(p),v=t(6),y=n(v);e.exports=s,s.prototype={render:l,parse:i,getVM:u},s.plugins={},s.register=function(e,r){if(e.constructor==String){var t=e;s.plugins[t]=r}else for(var t in e)s.plugins[t]=e[t]},s.config=a.setConfig},function(e,r){"use strict";function t(e){for(var r in e)n[r]=e[r]}Object.defineProperty(r,"__esModule",{value:!0}),r.setConfig=t;var n=r.configs={undefinedOutput:!1,sessionCache:!1,exactErrorLine:!1,arraySize:!0}},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){y=e.split(/[^\w]/g),d=e.match(/[^\w]/g),h=d.length;var r=[];r.push({type:x,val:y.shift()});for(var t=0;t<h;t++){var n=t<h-1&&d[t+1];if("$"!=d[t]||j.test(y[t])||"{"!=n&&"!"!=n&&""===y[t])if("#"==d[t])if("#"==n&&""==y[t])t=i(t+1);else if("*"==n&&""==y[t])t=u(t+1);else if("#[["==d.slice(t,t+3).join("")&&""==y.slice(t,t+2).join(""))g=l(t+2),r.push(g.hModel),t=g.lps;else{if(""==y[t]||b.indexOf(y[t])==-1){r.push({type:x,val:d[t]+y[t]});continue}g=a(t),r.push(g.dModel),g.ins&&r.push({type:x,val:y[g.lps]}),t=g.lps}else if("\\"==d[t]&&""==y[t]){for(var s=t;"\\"==d[s]&&""==y[s]&&s<h-1;)s++;for(var o=s-t,p="",c=0;c<o;c++)p+="\\";if("#"==d[s]&&(""==y[s]||b.indexOf(y[s])==-1)){r.push({type:x,val:p+d[s]+y[s]}),t=s;continue}if("#"==d[s]||"$"==d[s]){if(o%2==0){var v="$"==d[s]?p.slice(0,o/2):p;r.push({type:x,val:v}),t=s-1}else r.push({type:x,val:p.slice(0,o/2)+d[s]+y[s]}),t=s;continue}r.push({type:x,val:d[t]})}else"\n"==d[t]?r.push({type:x,val:y[t]}):r.push({type:x,val:d[t]+y[t]});else g=f(t),r.push(g.vModel),g.ins&&r.push({type:x,val:y[g.lps]}),t=g.lps}return{parseStack:r,symbols:d,words:y}}function l(e){for(var r={type:x,val:y[e]},t=e+1;t<h;t++)if("\\"==d[t]&&t<h-1&&""==y[t])r.val+=d[t+1]+y[t+1],t++;else{if("]"==d[t]&&"]]#"==d.slice(t,t+3).join("")&&""==y.slice(t,t+2).join(""))return r.val+=y[t+2],{hModel:r,lps:t+2};r.val+=("\n"==d[t]?"":d[t])+y[t]}p("防止转义没有结束标识",e)}function i(e){for(var r=e+1;r<h;r++)if("\n"==d[r])return r;return r}function u(e){for(var r=e+1;r<h;r++)if("*"==d[r]&&r<h-1&&"#"==d[r+1]&&""==y[r])return r+1;p("多行注释没有结束标识",e)}function a(e){for(var r={type:w,val:y[e],sublayer:[],begin:e},t=!1,n=0,s=e+1;s<h;s++)if(t||"("!=d[s])if(t&&"("==d[s])r.sublayer.push({type:M,val:d[s]+y[s]}),n++;else if(t&&")"==d[s]){if(0==n)return{dModel:r,lps:s,ins:!0};r.sublayer.push({type:M,val:d[s]+y[s]}),n--}else if(t&&"$"==d[s])g=f(s),r.sublayer.push(g.vModel),s=g.lps;else if(!t||'"'!=d[s]&&"'"!=d[s])if(t&&"\n"==d[s])r.sublayer.push({type:M,val:y[s]});else{if(!t){if($.indexOf(y[e])>=0){if(" "==d[s])continue;p("指令 "+r.val+" 缺少 (",s)}return r.sublayer=!1,{dModel:r,lps:s-1,ins:!1}}"#"==d[s]&&p("指令 "+r.val+" 未结束并遭遇另一个指令符号 #",e),r.sublayer.push({type:M,val:d[s]+y[s]})}else g=o(s),r.sublayer.push(g.sModel),s=g.lps;else r.sublayer.push({type:M,val:y[s]}),t=!0;return t?void p("指令 "+r.val+" 没有结束",e):(r.sublayer=!1,{dModel:r,lps:s-1})}function o(e){for(var r={type:_,sublayer:[{type:O,val:y[e]}],begin:e},t=d[e],n=e+1;n<h;n++)if("\\"==d[n])r.sublayer.push({type:O,val:d[n+1]+y[n+1]}),n++;else{if(d[n]==t)return{sModel:r,lps:n};"$"==d[n]?(g=f(n),r.sublayer.push(g.vModel),n=g.lps):"\n"==d[n]?p("字符串 '"+r.sublayer[0].val+"' 没有结束",e):r.sublayer.push({type:O,val:d[n]+y[n]})}p("字符串 '"+r.sublayer[0].val+"' 没有结束",e)}function f(e){for(var r={type:m,sublayer:[{type:M,val:y[e]}],begin:e},t=!1,n=!1,s=0,l=e+1;l<h;l++)if(t&&"$"==d[l])g=f(l),r.sublayer.push(g.vModel),l=g.lps;else if("!"==d[l]&&"$"==d[l-1]&&""==y[l-1])r.type=S,r.sublayer.push({type:M,val:y[l]});else if(!t||'"'!=d[l]&&"'"!=d[l])if("."==d[l])r.sublayer.push({type:M,val:"."+y[l]});else if(t||"("!=d[l]&&"{"!=d[l]&&"["!=d[l])if(d[l]===t)s++,r.sublayer.push({type:M,val:d[l]+y[l]});else if(d[l]===n){if(0==s){if("}"==n)return{vModel:r,lps:l,ins:!0};if(l<h-1&&"."==d[l+1]){r.sublayer.push({type:M,val:d[l]}),t=!1,n=!1,s=0;continue}return r.sublayer.push({type:M,val:d[l]}),{vModel:r,lps:l,ins:!0}}s--,r.sublayer.push({type:M,val:d[l]+y[l]})}else if(t&&"\n"==d[l])r.sublayer.push({type:M,val:y[l]});else{if(!t)return{vModel:r,lps:l-1};r.sublayer.push({type:M,val:d[l]+y[l]})}else t=d[l],"("==t?n=")":"["==t?n="]":"{"==t&&(n="}"),r.sublayer.push({type:M,val:("{"!==t?t:"")+y[l]});else g=o(l),r.sublayer.push(g.sModel),l=g.lps;return t?void p("变量 "+r.sublayer[0].val+" 没有结束",e):{vModel:r,lps:l}}function p(e,r){throw v["default"].syntax(e,v["default"].getLine(d,y,r)),": The program is stopped due to syntax error"}Object.defineProperty(r,"__esModule",{value:!0});var c=t(4),v=n(c);r["default"]=s;var y,d,h,g,b=["if","else","elseif","end","set","foreach","break"],$=["if","elseif","set","foreach"],x=1,M=2,w=3,m=4,S=5,_=6,O=7,j=/\d/g},function(e,r,t){"use strict";function n(e,r){console.warn("[Line "+r+"][Syntax Error] "+e)}function s(e,r,t){var n=e.slice(0,t).join(""),s=n.split("\n"),i=s.length;return""==s[0].trim()&&1!==s.length&&i--,l.configs.exactErrorLine&&window.$?($.ajax({url:window.location.href,async:!1,success:function(t){for(var n="",s=0;s<e.length;s++)n+=e[s]+r[s];t=t.replace(/[^\S\n]/g,""),n=n.replace(/[^\S\n]/g,"");var l=t.substr(0,t.indexOf(n));i+=l.split("\n").length}}),i+" (In Html File)"):i}Object.defineProperty(r,"__esModule",{value:!0});var l=t(2);r["default"]={syntax:n,getLine:s}},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e){var r=e.parseStack;b=e.symbols,$=e.words;var t="'use strict';";d.configs.arraySize&&(t+="if(!Array.prototype.size){Array.prototype.size=function(){return this.length;};}"),t+="var $data=arguments[0],$out='';";var n=l(r,0);I.length>0&&y("有 if 或 foreach 但缺少配对 end","EOF");for(var s=0;s<R.length;s++)t+="var "+R[s]+"=$data."+R[s]+"||undefined;";return t+=n,t+="return $out;"}function l(e,r){for(var t,n,s,u,a="",o="",f=0,p=e.length;f<p;f++)if(n=e[f],s=f>0&&e[f-1],u=f<p-1&&e[f+1],!n.val||""!=n.val)if(n.type==k){if(o+=n.val,f==p-1||u&&u.type!=k){var c=i(o);if(""==c)continue;a+="$out+='"+c+"';",o=""}}else if(n.type==P||n.type==z){0==r&&(a+="$out+=");var v=n.type==z;t=l(n.sublayer,r+1);var h=t.split(w)[0];if(R.indexOf(h)==-1&&R.push(h),v)a+="(function(){try{return(("+t+"||"+t+"==0)?"+t+":'')}catch(e){return '';}})()";else if(!d.configs.undefinedOutput||0!=f&&s.type!=k)a+=t;else{var x="$"+i(t);a+="(function(){try{return(("+t+"||"+t+"==0)?"+t+":'"+x+"')}catch(e){return '"+x+"';}})()"}0==r&&(a+=";")}else n.type==L?(t=F[n.val](n.sublayer?l(n.sublayer):null),t.error&&y(t.error,g["default"].getLine(b,$,n.begin)),a+=t):n.type==C?a+=n.val:n.type==E?(0==f&&(a+="'"),s&&s.type!=E&&(a+="+'"),a+=n.val,u&&u.type!==E&&(a+="'+"),f==p-1&&(a+="'")):n.type==A&&(a+=l(n.sublayer,r+1));return a}function i(e){return e.replace(M,"\\\\").replace(x,"\\'")}function u(e){var r=e.replace(m,"");return r.search(O)>=0?{error:"不应在 if 表达式里进行赋值操作"}:(I.push("if"),"if("+e+"){")}function a(e){if("if"!=I.slice(-1))return{error:"有 elseif 但没有 if"};var r=e.replace(m,"");return r.search(O)>=0?{error:"不应在 elseif 表达式里进行赋值操作"}:"}else if("+e+"){"}function o(){return"if"!=I.slice(-1)?{error:"有 else 但没有 if"}:"}else{"}function f(){if(0==I.length)return{error:"存在 end 但缺少配对 if 或 foreach"};var e=I.pop();return"if"==e?"}":"foreach"==e?"}})();":void 0}function p(e){var r=e.replace(m,"").replace(S,"");return r.match(O)||r.match(j)?e+";":{error:"set 表达式语法不正确"}}function c(){return"return $out;"}function v(e){I.push("foreach");var r=e.split(_);if(!r||2!==r.length)return{error:"foreach 存在未识别的 token"};var t=r[1],n=r[0];return"(function(){"+("if("+t+" instanceof Array) {")+("var foreach={},"+n+";")+("for(var $i=0,$len="+t+".length;$i<$len;$i++){")+"foreach.count=$i+1;foreach.index=$i;foreach.hasNext=($i<$len-1?true:false);"+(n+"="+t+"[$i];")+"if($callback()!==undefined) return $out;}} else {"+("var foreach={count:0,index:-1},"+n+",$len=Object.getOwnPropertyNames("+t+").length;")+("for(var $k in "+t+"){")+"foreach.count++;foreach.index++;foreach.hasNext=(foreach.index<$len-1?true:false);"+(n+"="+t+"[$k];")+"if($callback()!==undefined) return $out;}}function $callback(){"}function y(e,r){throw g["default"].syntax(e,r),": The program is stopped due to syntax error"}Object.defineProperty(r,"__esModule",{value:!0});var d=t(2),h=t(4),g=n(h);r["default"]=s;var b,$,x=/\'/g,M=/\\/g,w=/[^\w]/g,m=/'(.*)'/g,S=/\((.*)\)/g,_=/\s+in\s+/g,O=/(.*)[\w\s\]]=[^=]*[\w\s\[\{](.*)/g,j=/(.*)[\w\s\]]=$/g,k=1,C=2,L=3,P=4,z=5,A=6,E=7,F={"if":u,end:f,"else":o,elseif:a,foreach:v,"break":c,set:p},R=[],I=[]},function(e,r){"use strict";function t(e){return u[e]?u[e]:null}function n(e,r){u[e]=r}function s(e){return window.sessionStorage?sessionStorage.getItem(e):null}function l(e,r){window.sessionStorage&&sessionStorage.setItem(e,r)}function i(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".split(""),t=5381,n=e.length-1;n>-1;n--)t+=(t<<5)+e.charCodeAt(n);var s=2147483647&t,l="";do l+=r[63&s];while(s>>=6);return l}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={getRam:t,setRam:n,getSession:s,setSession:l,getKey:i};var u={}}]);